{% extends "base.html" %}
{% block title %}Announcements{% endblock %}

{% block content %}
<h1>Announcements</h1>

<div class="grid">
  {% for announcement in announcements %}
    <div class="card">
      <h3>{{ announcement.title }}</h3>
      <p class="muted">From: <strong>{{ announcement.club_name }}</strong> â€” {{ announcement.created_at.strftime('%Y-%m-%d %H:%M') }}</p>
      <p>{{ announcement.content }}</p>

      {% if current_user.role == 'club_admin' %}
      <form action="{{ url_for('announcements_delete', announcement_id=announcement.announcement_id) }}" method="POST" style="display: inline;">
        <input type="hidden" name="club_id" value="{{ announcement.club_id }}">
        <button type="submit" class="btn btn-danger btn-sm" 
                onclick="return confirm('Are you sure you want to delete this announcement?')">
            Delete
        </button>
      </form>
      {% endif %}
    </div>
  {% else %}
    <div class="card">
      <p>No announcements available at this time.</p>
    </div>
  {% endfor %}

  
</div>
{% endblock %}